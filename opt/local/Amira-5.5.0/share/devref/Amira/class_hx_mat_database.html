<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Amira: HxMatDatabase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="AmiraDevRef.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>HxMatDatabase Class Reference<br>
<small>
[<a class="el" href="group__hxcore.html">hxcore</a>]</small>
</h1><!-- doxytag: class="HxMatDatabase" -->Global database for materials and parameters.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;hxcore/HxMatDatabase.h&gt;</code>
<p>
<a href="class_hx_mat_database-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">SoMaterial *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hx_mat_database.html#56b5c744c61cbe0b742dbe39b79b5aba">createMaterialNode</a> (<a class="el" href="class_hx_param_bundle.html">HxParamBundle</a> &amp;<a class="el" href="class_hx_mat_database.html#a505586288c30cd0cb6d0c032017040b">parameters</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create SoMaterial node for materials stored in <code>parameters</code>.  <a href="#56b5c744c61cbe0b742dbe39b79b5aba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hx_mat_database.html#7708d231247c20f5cc64ada2954136b2">updateMaterialNode</a> (<a class="el" href="class_hx_param_bundle.html">HxParamBundle</a> &amp;<a class="el" href="class_hx_mat_database.html#a505586288c30cd0cb6d0c032017040b">parameters</a>, SoMaterial *node)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Updates an existing Inventor material node.  <a href="#7708d231247c20f5cc64ada2954136b2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hx_mat_database.html#27a0d2d3a9be0b0cd69cffc95c8ec32b">getMaterialColors</a> (<a class="el" href="class_hx_param_bundle.html">HxParamBundle</a> &amp;<a class="el" href="class_hx_mat_database.html#a505586288c30cd0cb6d0c032017040b">parameters</a>, unsigned int *colors, float defaultTransparency=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get packed color values for material bundle.  <a href="#27a0d2d3a9be0b0cd69cffc95c8ec32b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">SbColor&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hx_mat_database.html#1fb7c3f8218353efa1380e3bdbe3178f">getColor</a> (const char *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns color for given material.  <a href="#1fb7c3f8218353efa1380e3bdbe3178f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hx_mat_database.html#d7fe48b93bd710cc6231afcdaa0cf95f">getTransparency</a> (const char *name, float defaultTransparency=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return transparency for given material.  <a href="#d7fe48b93bd710cc6231afcdaa0cf95f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hx_mat_database.html#dc9ceabc3d19e60f488be01c5d8ffd9c">saveAmiraMesh</a> (const char *filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save material database to file.  <a href="#dc9ceabc3d19e60f488be01c5d8ffd9c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="class_hx_mat_database.html">HxMatDatabase</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hx_mat_database.html#6716da59628d4376a47a3e337ff5baea">create</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates and initializes database.  <a href="#6716da59628d4376a47a3e337ff5baea"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hx_mat_database.html#07715f2e19978960e6ad2f734d8d0be7">setDefaultDatabase</a> (const char *filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set default database.  <a href="#07715f2e19978960e6ad2f734d8d0be7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hx_mat_database.html#5784d84713feeb653e1e3954092d374e">setSystemDefault</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets default database to system default.  <a href="#5784d84713feeb653e1e3954092d374e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="class_hx_mat_database.html">HxMatDatabase</a> *&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hx_mat_database.html#c204abda3dcde5a101b1035f6fac87a2">getTheDatabase</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_hx_param_bundle.html">HxParamBundle</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hx_mat_database.html#a505586288c30cd0cb6d0c032017040b">parameters</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Contains general parameters.  <a href="#a505586288c30cd0cb6d0c032017040b"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Global database for materials and parameters. 
<p>
The database can be accessed via the global pointer <code>theDatabase</code>. The class essentially provides a public member parameters of type <a class="el" href="class_hx_param_bundle.html">HxParamBundle</a>. This variables can be used to store an arbitrary hierarchy of parameters.<p>
A number of special-purpose methods are provided in order to retrieve color and transparency values for certain materials. Usually, these methods take the reference to the parameter bundle containing the material description as input. First, it is checked if this bundle defines the color of a material. If not, the color is taken from the database. If a material is not found in the database, a new random color is generated and the material is added to the global database. This ensures that the same color will be returned the next time a color value is requested for the material. 
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="56b5c744c61cbe0b742dbe39b79b5aba"></a><!-- doxytag: member="HxMatDatabase::createMaterialNode" ref="56b5c744c61cbe0b742dbe39b79b5aba" args="(HxParamBundle &amp;parameters)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SoMaterial* HxMatDatabase::createMaterialNode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_hx_param_bundle.html">HxParamBundle</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>parameters</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create SoMaterial node for materials stored in <code>parameters</code>. 
<p>
The material node will be filled with n+2 diffuse color values, if n is the number of materials stored in <code>parameters</code>. The first color value will be the one for edges, the second will be the one for exterior faces. The remaining n color values belong to the n materials. This method is used in modules visualizing finite element grids or surfaces. 
</div>
</div><p>
<a class="anchor" name="7708d231247c20f5cc64ada2954136b2"></a><!-- doxytag: member="HxMatDatabase::updateMaterialNode" ref="7708d231247c20f5cc64ada2954136b2" args="(HxParamBundle &amp;parameters, SoMaterial *node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HxMatDatabase::updateMaterialNode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_hx_param_bundle.html">HxParamBundle</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SoMaterial *&nbsp;</td>
          <td class="paramname"> <em>node</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Updates an existing Inventor material node. 
<p>
The material node will be initialized in the same way as described in createMaterialNode. 
</div>
</div><p>
<a class="anchor" name="27a0d2d3a9be0b0cd69cffc95c8ec32b"></a><!-- doxytag: member="HxMatDatabase::getMaterialColors" ref="27a0d2d3a9be0b0cd69cffc95c8ec32b" args="(HxParamBundle &amp;parameters, unsigned int *colors, float defaultTransparency=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HxMatDatabase::getMaterialColors           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_hx_param_bundle.html">HxParamBundle</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>colors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>defaultTransparency</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get packed color values for material bundle. 
<p>
Parameter <code>colors</code> is supposed to point to an array of 256 integers. The array is filled with packed color values for all materials contained in <code>parameters</code>. 
</div>
</div><p>
<a class="anchor" name="1fb7c3f8218353efa1380e3bdbe3178f"></a><!-- doxytag: member="HxMatDatabase::getColor" ref="1fb7c3f8218353efa1380e3bdbe3178f" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SbColor HxMatDatabase::getColor           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns color for given material. 
<p>
If given material is not found in the database, it is created with a random color and added to the database. If material is found but has no color a random color is generated and assigned to it. 
</div>
</div><p>
<a class="anchor" name="d7fe48b93bd710cc6231afcdaa0cf95f"></a><!-- doxytag: member="HxMatDatabase::getTransparency" ref="d7fe48b93bd710cc6231afcdaa0cf95f" args="(const char *name, float defaultTransparency=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float HxMatDatabase::getTransparency           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>defaultTransparency</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return transparency for given material. 
<p>
If given material is not found in the database, it is created with given <code>defaultTransparency</code> and added to the database. If material is found but has no transparency <code>defaultTransparency</code> is assigned to it. 
</div>
</div><p>
<a class="anchor" name="6716da59628d4376a47a3e337ff5baea"></a><!-- doxytag: member="HxMatDatabase::create" ref="6716da59628d4376a47a3e337ff5baea" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_hx_mat_database.html">HxMatDatabase</a>* HxMatDatabase::create           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates and initializes database. 
<p>

</div>
</div><p>
<a class="anchor" name="dc9ceabc3d19e60f488be01c5d8ffd9c"></a><!-- doxytag: member="HxMatDatabase::saveAmiraMesh" ref="dc9ceabc3d19e60f488be01c5d8ffd9c" args="(const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HxMatDatabase::saveAmiraMesh           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Save material database to file. 
<p>

</div>
</div><p>
<a class="anchor" name="07715f2e19978960e6ad2f734d8d0be7"></a><!-- doxytag: member="HxMatDatabase::setDefaultDatabase" ref="07715f2e19978960e6ad2f734d8d0be7" args="(const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int HxMatDatabase::setDefaultDatabase           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set default database. 
<p>

</div>
</div><p>
<a class="anchor" name="5784d84713feeb653e1e3954092d374e"></a><!-- doxytag: member="HxMatDatabase::setSystemDefault" ref="5784d84713feeb653e1e3954092d374e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void HxMatDatabase::setSystemDefault           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Resets default database to system default. 
<p>

</div>
</div><p>
<a class="anchor" name="c204abda3dcde5a101b1035f6fac87a2"></a><!-- doxytag: member="HxMatDatabase::getTheDatabase" ref="c204abda3dcde5a101b1035f6fac87a2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_hx_mat_database.html">HxMatDatabase</a>*&amp; HxMatDatabase::getTheDatabase           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="a505586288c30cd0cb6d0c032017040b"></a><!-- doxytag: member="HxMatDatabase::parameters" ref="a505586288c30cd0cb6d0c032017040b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_hx_param_bundle.html">HxParamBundle</a> <a class="el" href="class_hx_mat_database.html#a505586288c30cd0cb6d0c032017040b">HxMatDatabase::parameters</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Contains general parameters. 
<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>hxcore/<a class="el" href="hxcore_2_hx_mat_database_8h.html">HxMatDatabase.h</a></ul>
<hr class="footer"/><address style="text-align: right;"><small>
<a href="http://www.vsg3d.com/" target="_blank">Amira</a> Developer Reference
- &copy; 2005 - 2011 <a href="http://www.zib.de/" target="_blank">Zuse Institute Berlin</a>,
<a href="http://www.vsg3d.com" target="_blank">Visualization Sciences Group, SAS</a>
- Generated on 10 Oct 2013 using <a href="http://www.doxygen.org/" target="_blank">doxygen</a> 1.4.7
</small></address>
</body>
</html>
