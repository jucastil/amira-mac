<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Amira: McServerSocket Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="AmiraDevRef.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>McServerSocket Class Reference<br>
<small>
[<a class="el" href="group__mclib.html">mclib</a>]</small>
</h1><!-- doxytag: class="McServerSocket" -->This class opens a server socket which clients may connect to.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;mclib/McServerSocket.h&gt;</code>
<p>
<p>Inheritance diagram for McServerSocket:
<p><center><img src="class_mc_server_socket.png" usemap="#McServerSocket_map" border="0" alt=""></center>
<map name="McServerSocket_map">
<area href="class_mc_httpd.html" alt="McHttpd" shape="rect" coords="0,56,107,80">
</map>
<a href="class_mc_server_socket-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#b09f598b5ed100354f115b6442a5fd13">McServerSocket</a> (int <a class="el" href="class_mc_server_socket.html#7a4600efc88be7b17640558c4513ed83">verbose</a>=1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#b09f598b5ed100354f115b6442a5fd13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#3e47f0d1d4e571f62ff662a14bf05a9a">~McServerSocket</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#3e47f0d1d4e571f62ff662a14bf05a9a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#f986cee2b4f5267ec6c562d0cb2d2b79">openSocket</a> (int port, int nTries=1, int backlog=10)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Opens the socket, binds it to the specified port, and makes it listening for connections.  <a href="#f986cee2b4f5267ec6c562d0cb2d2b79"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#7010f0526e5ed7e6c8adf8df1b31d578">accept</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accepts a connection on the server socket.  <a href="#7010f0526e5ed7e6c8adf8df1b31d578"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#1ca5b6622f52357cb275235e0843dfe5">blocking</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Makes the socket blocking.  <a href="#1ca5b6622f52357cb275235e0843dfe5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#0978718a885e95447e0ba2779786510f">nonBlocking</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Makes the socket non-blocking.  <a href="#0978718a885e95447e0ba2779786510f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#7d83d725d94ff834fb5ffefed319c486">isNonBlocking</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks whether the socket is non-blocking.  <a href="#7d83d725d94ff834fb5ffefed319c486"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#f85fa349d360029b29ae07440a8e07df">port</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the port the socket is bound to, or 0 if socket isn't open.  <a href="#f85fa349d360029b29ae07440a8e07df"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#92e143103802cbcf8d01c40080ea3079">socket</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns socket identifier, or 0 if socket isn't open.  <a href="#92e143103802cbcf8d01c40080ea3079"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#6dda9be1a316da58ca29fa12f308728a">isOpen</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns 1 if the socket is open and bound to a port.  <a href="#6dda9be1a316da58ca29fa12f308728a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#845ad14af912f6694faffd56397d7953">close</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Closes the socket.  <a href="#845ad14af912f6694faffd56397d7953"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#7a4600efc88be7b17640558c4513ed83">verbose</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If this flag is set error messages are printed to stderr.  <a href="#7a4600efc88be7b17640558c4513ed83"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#d7ea3c632d0668771de771487fb9f1c5">error</a> (const char *func=0)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#ee5b45b73c6412bef91f81674ebc0bdf">thePort</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mc_server_socket.html#e3a92c7e80805c8b94d6595a457b91e2">theSocket</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class opens a server socket which clients may connect to. 
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="class_mc_socket.html">McSocket</a> </dd></dl>

<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="b09f598b5ed100354f115b6442a5fd13"></a><!-- doxytag: member="McServerSocket::McServerSocket" ref="b09f598b5ed100354f115b6442a5fd13" args="(int verbose=1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">McServerSocket::McServerSocket           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>verbose</em> = <code>1</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>
If verbose is true a message will be printed to stderr whenever a socket operation failed. If this option is false you may still access the last error message via <a class="el" href="class_mc_socket.html#f5c69678b183ecdbc06ee84aeeed7f04">McSocket::strerror()</a>. 
</div>
</div><p>
<a class="anchor" name="3e47f0d1d4e571f62ff662a14bf05a9a"></a><!-- doxytag: member="McServerSocket::~McServerSocket" ref="3e47f0d1d4e571f62ff662a14bf05a9a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">McServerSocket::~McServerSocket           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="f986cee2b4f5267ec6c562d0cb2d2b79"></a><!-- doxytag: member="McServerSocket::openSocket" ref="f986cee2b4f5267ec6c562d0cb2d2b79" args="(int port, int nTries=1, int backlog=10)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int McServerSocket::openSocket           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nTries</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>backlog</em> = <code>10</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Opens the socket, binds it to the specified port, and makes it listening for connections. 
<p>
If the specified port has not been closed properly before it will usually be disabled by the system for a while. In this case binding the socket will fail and <code><a class="el" href="class_mc_server_socket.html#f986cee2b4f5267ec6c562d0cb2d2b79">openSocket()</a></code> will return 0. If the parameter <code>nTries</code> is larger than 1 then multiple attempts will be taken to bind the socket. Between each attempt execution of the program will be suspended by one second. If <code>nTries</code> is zero an infinite number of attempts will be taken.<p>
If <code>nTries</code> is negative the method does not retry to bind the socket to the same port but to the next higher port. In this case, program execution is not suspended but the next attempt to bind the socket is taken immediately. On success the method returns the port the socket has been actually bound to. Otherwise, it returns -1.<p>
The argument <code>backlog</code> denotes the size of the queue for incoming connections. 
</div>
</div><p>
<a class="anchor" name="7010f0526e5ed7e6c8adf8df1b31d578"></a><!-- doxytag: member="McServerSocket::accept" ref="7010f0526e5ed7e6c8adf8df1b31d578" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int McServerSocket::accept           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accepts a connection on the server socket. 
<p>
If a new connection has been accepted a new socket file descriptor is returned. You may use this new file descriptor in order to communicate with the client via <code>read()</code> or <code>write()</code>. If no connection is pending and non-blocking mode has been enabled via <code><a class="el" href="class_mc_server_socket.html#0978718a885e95447e0ba2779786510f">nonBlocking()</a></code> the method returns -1. Otherwise, it waits until a connection has been accepted. 
</div>
</div><p>
<a class="anchor" name="1ca5b6622f52357cb275235e0843dfe5"></a><!-- doxytag: member="McServerSocket::blocking" ref="1ca5b6622f52357cb275235e0843dfe5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void McServerSocket::blocking           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Makes the socket blocking. 
<p>

</div>
</div><p>
<a class="anchor" name="0978718a885e95447e0ba2779786510f"></a><!-- doxytag: member="McServerSocket::nonBlocking" ref="0978718a885e95447e0ba2779786510f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void McServerSocket::nonBlocking           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Makes the socket non-blocking. 
<p>

</div>
</div><p>
<a class="anchor" name="7d83d725d94ff834fb5ffefed319c486"></a><!-- doxytag: member="McServerSocket::isNonBlocking" ref="7d83d725d94ff834fb5ffefed319c486" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int McServerSocket::isNonBlocking           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks whether the socket is non-blocking. 
<p>

</div>
</div><p>
<a class="anchor" name="f85fa349d360029b29ae07440a8e07df"></a><!-- doxytag: member="McServerSocket::port" ref="f85fa349d360029b29ae07440a8e07df" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int McServerSocket::port           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the port the socket is bound to, or 0 if socket isn't open. 
<p>

</div>
</div><p>
<a class="anchor" name="92e143103802cbcf8d01c40080ea3079"></a><!-- doxytag: member="McServerSocket::socket" ref="92e143103802cbcf8d01c40080ea3079" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int McServerSocket::socket           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns socket identifier, or 0 if socket isn't open. 
<p>

</div>
</div><p>
<a class="anchor" name="6dda9be1a316da58ca29fa12f308728a"></a><!-- doxytag: member="McServerSocket::isOpen" ref="6dda9be1a316da58ca29fa12f308728a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int McServerSocket::isOpen           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns 1 if the socket is open and bound to a port. 
<p>

</div>
</div><p>
<a class="anchor" name="845ad14af912f6694faffd56397d7953"></a><!-- doxytag: member="McServerSocket::close" ref="845ad14af912f6694faffd56397d7953" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void McServerSocket::close           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes the socket. 
<p>

</div>
</div><p>
<a class="anchor" name="d7ea3c632d0668771de771487fb9f1c5"></a><!-- doxytag: member="McServerSocket::error" ref="d7ea3c632d0668771de771487fb9f1c5" args="(const char *func=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void McServerSocket::error           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>func</em> = <code>0</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="7a4600efc88be7b17640558c4513ed83"></a><!-- doxytag: member="McServerSocket::verbose" ref="7a4600efc88be7b17640558c4513ed83" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_mc_server_socket.html#7a4600efc88be7b17640558c4513ed83">McServerSocket::verbose</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If this flag is set error messages are printed to stderr. 
<p>

</div>
</div><p>
<a class="anchor" name="ee5b45b73c6412bef91f81674ebc0bdf"></a><!-- doxytag: member="McServerSocket::thePort" ref="ee5b45b73c6412bef91f81674ebc0bdf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_mc_server_socket.html#ee5b45b73c6412bef91f81674ebc0bdf">McServerSocket::thePort</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e3a92c7e80805c8b94d6595a457b91e2"></a><!-- doxytag: member="McServerSocket::theSocket" ref="e3a92c7e80805c8b94d6595a457b91e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_mc_server_socket.html#e3a92c7e80805c8b94d6595a457b91e2">McServerSocket::theSocket</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>mclib/<a class="el" href="_mc_server_socket_8h.html">McServerSocket.h</a></ul>
<hr class="footer"/><address style="text-align: right;"><small>
<a href="http://www.vsg3d.com/" target="_blank">Amira</a> Developer Reference
- &copy; 2005 - 2011 <a href="http://www.zib.de/" target="_blank">Zuse Institute Berlin</a>,
<a href="http://www.vsg3d.com" target="_blank">Visualization Sciences Group, SAS</a>
- Generated on 10 Oct 2013 using <a href="http://www.doxygen.org/" target="_blank">doxygen</a> 1.4.7
</small></address>
</body>
</html>
