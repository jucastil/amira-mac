<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
<head><title>Amira Online Help</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link rel="stylesheet" href="../Amira.css" type="text/css" />
<script type="text/javascript" src="../MathJax/MathJax.js?config=default.js"></script>
</head>
<body lang="en">


<p></p><div class="generic_head"><h2><a name="A1"> HxSurface</a>
</h2> <ul class="entry_classification"><li>File Format</li><li>Amira</li></ul></div>
<! HxIndex: "amira" "FileFormat" "HxSurface" "Amira's native format for triangular surfaces (rw)" !>
<p></p><div class="hxdescription">
<h3>Description</h3>

<p> <b>Simplified version.</b> The surface format has been designed to
 represent <a class="link" href="HxSurface.html#A1">triangular non-manifold surfaces</a>. The
 triangles of such a surface are grouped in patches. In addition,
 information about so-called boundary contours and branching points can
 be stored in a surface file. However, since this information can be
 recomputed automatically if required, we discuss a simplified version
 of the format first. Here is an example:</p>
<pre>
    # HyperSurface ASCII

    Parameters {
        Info "GMC: 3 colors, case 13"
    }

    Materials { {
        color 0.83562 0.78 0.06,
        Name "Yellow" }
    {
        color 0.21622 0.8 0.16,
        name "Green" }
    {
        color 0.8 0.16 0.596115,
        name "Magenta" }
    }

    Vertices 11
        1.000000 0.666667 0.500000
        0.666667 0.500000 1.000000
        1.000000 0.500000 0.000000
        0.500000 1.000000 0.000000
        0.000000 0.000000 0.500000
        0.000000 1.000000 0.500000
        1.000000 1.000000 0.500000
        0.500000 0.000000 1.000000
        1.000000 0.500000 1.000000
        0.500000 1.000000 1.000000
        0.523810 0.523809 0.500000

    Patches 3
    {   InnerRegion Green
        OuterRegion Yellow
        Triangles 7
          3 1 11
          4 3 11
          6 4 11
          5 6 11
          8 5 11
          2 8 11
          1 2 11
    }
    {   InnerRegion Magenta
        OuterRegion Yellow
        Triangles 1
          9 2 1
    }
    {   InnerRegion Magenta
        OuterRegion Green
        Triangles 2
          2 10 7
          7 1 2
    }
    </pre>
<p> The first line is required and identifies the surface format. Additional
 comments starting with a hashmark (#) may appear at any point in the file.
 Next, an optional parameter section and a material section follow.
 These sections have the same format as in an
 <a class="link" href="../amiramesh/HxFileFormat_AmiraMesh.html#A1">AmiraMesh</a> file. The parameter section
 may contain an arbitrary number of name-value items. The material
 section contains additional information about imaginary regions the
 surface patches are supposed to separate. In contrast to an AmiraMesh
 file, individual materials need not to have an <em>Id</em> since they are
 referenced via their names.</p>
<p> The statement <tt>Vertices 11</tt> indicates that the x, y, and
 z coordinates of 11 vertices follow. Likewise, the statement <tt>Patches 3</tt> indicates that 3 patches follow. The definition of each
 patch is enclosed by a pair of curly braces &#123; and &#125;. Inside these
 braces <tt>InnerRegion</tt> and <tt>OuterRegion</tt> indicate the two
 regions the patch is supposed to separate. If you don't want to
 generate a tetrahedral grid from your surface, you may omit these
 statements, or you may choose both regions to be the same. Finally,
 the triangles of a patch are specified by indexing vertices defined
 in the vertex section. Like in an AmiraMesh file, indices start at 1,
 not at 0.</p>
<p> <br />
</p>
<p> <b>Extended version.</b> In its extended version the surface format is
 able to store additional topological information of a surface. Before
 we discuss this in detail, let us first provide some definitions and
 introduce the underlying concepts.</p>

<ul><li><b>Region:</b>
 In finite element applications regions are usually called
 materials. A region is defined by its surrounding surface, which may
 consist of multiple patches. Each region must have a unique name.</li><li><b>Surface:</b>
 A surface is defined by the boundary of a 3D region and
 therefore must be closed. This means that, for example, each edge must be
 connected to an even number of triangles. In one half of the triangles the
 edge is referenced in forward orientation, in the other half in backward
 orientation. A surface may consist of multiple pieces, so-called patches.
 In the file format the patches of a surface are given by a list of signed
 indices. A negative index means that the patch has negative orientation
 in the current surface.</li><li><b>Patch:</b>
 A part of a surface which separates exactly two different
 regions. Patches are built from triangles. The triangles are all oriented
 in a unique way so that we can define an inner region and an outer
 region. The triangle normals point into the outer region. For each patch,
 an <tt>InnerRegion</tt> and an <tt>OuterRegion</tt> may be specified in the file
 format. If one of these specifiers is missing, it is assumed that the
 patch delimits the exterior space. Otherwise the exterior region should be
 called <tt>OUTSIDE</tt>. Patches may be closed or may be delimited by
 so-called boundary curves. Boundary curves are specified by a list of
 signed integers. The sign denotes the orientation of the curve segment
 for a particular patch. In addition, for each patch inner branching points
 may be specified if necessary.</li><li><b>BoundaryCurve:</b>
 At a boundary curve multiple patches join. The curves are defined by a
 set of vertex indices. For closed curves the first and the last index
 must be equal.</li><li><b>BranchingPoint:</b>
 A point where multiple regions join. The start and end points of a
 boundary curve are branching points. In addition, there may be also
 branching points inside a patch which are not part of a boundary curve.</li><li><b>Vertices:</b>
 These are the points from which the surface triangles are built. In the
 file format the vertex coordinates are specified after the identifier
 <tt>Vertices</tt> followed by the number of vertices. First, branching
 points should be specified, then points on boundary curves, and then
 inner points of the patches. In the definition of boundary curves and
 patches, the vertices are referenced by indices starting from 1, not
 from 0.</li>
</ul>
<p> The following example describes the surfaces of three connected
 tetrahedra which are assigned to three different regions. Some of the
 definitions are optional. Really necessary are only the list of vertex
 coordinates as well as the definition of the patches. Boundary curves
 and surfaces may be reconstructed from this.</p>
<pre>
    # HyperSurface ASCII

    Vertices  6
         0.0  0.0  0.0
         0.0  0.0  1.0
         0.0  1.0  0.0
        -1.0  0.0  0.0
         1.0  0.0  0.0
         0.0 -1.0  0.0

    NBranchingPoints 2
    NVerticesOnCurves 2

    BoundaryCurves 3
    {
        Vertices 3
            1  3  2
    } {
        Vertices 2
            1  2
    } {
        Vertices 3
            1  4  2
    }

    Patches 5
    {
        InnerRegion Material1           
        OuterRegion OUTSIDE
        BranchingPoints 0
        BoundaryCurves 2
            1  -2
        Triangles 3
            5  1  3
            1  5  2
            5  3  2
    } {
        InnerRegion Material2           
        OuterRegion OUTSIDE
        BranchingPoints 0
        BoundaryCurves 2
            3  -1
        Triangles 2
            3  1  4
            2  3  4
    } {
        InnerRegion Material3           
        OuterRegion OUTSIDE
        BranchingPoints 0
        BoundaryCurves 2
            -3  2
        Triangles 3
            4  1  6
            2  4  6
            1  2  6
    } {
        InnerRegion Material1           
        OuterRegion Material2           
        BranchingPoints   0
        BoundaryCurves 2
            2  -1
        Triangles 1
            3  1  2
    } {
        InnerRegion Material2           
        OuterRegion Material3           
        BranchingPoints 0
        BoundaryCurves 2
            -3  2
        Triangles 1
            1  2  4
    }

    Surfaces 3
    {
      Region Material1           
      Patches 2
         1  4
    } {
      Region Material2           
      Patches 3
         2  -4  5
    } {
      Region Material3           
      Patches 2
         3  -5
    }
    </pre></div>
<p></p>
<p></p>
<p>

</p></body>
</html>
